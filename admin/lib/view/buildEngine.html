<?php include "/opt/casmacat/admin/lib/view/_header.html" ?>
<script src="/public/js/ajaxfileupload.js"></script>

<h1>Build New Engine</h1>

<form id='build-form' method='post' enctype="multipart/form-data">
<input type="hidden" name="action" value="build"/>
<table class="keyvaluetable">

<tr><td>Name</td>
<td><input name="name" size="40" /></td></tr>

<tr><td>Input language</td>
<td><select name="input-extension" onchange="changeLanguagePair()">
<option tal:repeat="l languages" tal:attributes="value l/code; selected l/default_source" tal:content="l/name"></option>
</select></td></tr>
<tr><td>Output language</td>
<td><select name="output-extension" onchange="changeLanguagePair()">
<option tal:repeat="l languages" tal:attributes="value l/code; selected l/default_target" tal:content="l/name"></option>
</select></td></tr>

<tr id="upload"><td>Add corpus</td>
<td>
<p id="loading" style="display:none;">loading...</p>
<form name="form" action="" method="POST" enctype="multipart/form-data">
<input id="fileToUpload" type="file" size="45" name="fileToUpload" class="input"/>
<button class="button" id="buttonUpload" onclick="return ajaxFileUpload();">Upload</button>
</form>
</td></tr>

<tr id="corpus-table" style="display:none"><td valign="top">Corpora</td><td id="corpus-table-content"></td></tr>

<tr class="config" style="display:none"><td>Tuning set</td>
<td><select id="tuning-corpus" name="tuning-corpus"></select> 
    <input id="tuning-select-all" type="radio" name="tuning-select" value="all" checked="checked"/> all 
    <input id="tuning-select-select" type="radio" name="tuning-select" value="select"/> select 
    <select id="tuning-count" name="tuning-count" onChange="$('#tuning-select-select').attr('checked', true);"><option>500</option><option>1000</option><option>2000</option></select>
</td></tr>
<tr class="config" style="display:none"><td>Evaluation set</td>
<td><select id="evaluation-corpus" name="evaluation-corpus"></select> 
    <input id="evaluation-select-all" type="radio" name="evaluation-select" value="all" checked="checked"/> all 
    <input id="evaluation-select-select" type="radio" name="evaluation-select" value="select"/> select 
    <select id="evaluation-count" name="evaluation-count" onChange="$('#evaluation-select-select').attr('checked', true);"><option>500</option><option>1000</option><option>2000</option></select>
</td></tr>

<tr class="config" style="display:none"><td>&nbsp;</td><td><input id="submit-build" name="submit-build" type="submit" value="build"/></td></tr>
</table>
</form>
<script language="javascript" src="/lib/js/buildEngine.js"></script>
<script>
changeLanguagePair();
</script>
<?php include "/opt/casmacat/admin/lib/view/_footer.html" ?>
